/*
 * maincpp.cpp
 *
 *  Created on: Jan 2, 2021
 *      Author: Duane Mathias
 */


#include "maincpp.h"

//encoders
absEncoder elEncoder(ElEncoderPorts,ElEncoderPins);

//motors
Stepper elStepper(ElStepperPorts,ElStepperPins);

// callback function for stepper motor timer
void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim)
{
  // Check which version of the timer triggered this callback and toggle LED
  if (htim == &htim1 )
  {
    //HAL_GPIO_TogglePin(GPIOA, GPIO_PIN_5);
	  elStepper.step();
  }
}
void mainsetup(){

}

int test;
void mainloop(){
	test = elEncoder.position();
}
